(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,a,r){},12:function(e,a,r){"use strict";r.r(a);var n=r(0),t=r.n(n),o=r(3),c=r.n(o),m=r(1),s=function(e){return"https://c-hive-proxy.herokuapp.com/".concat(e)},i=function(e){return fetch(e).then(function(e){return e.text().then(function(a){if(!e.ok)throw new Error("HTTP error: ".concat(e.status," - ").concat(a));try{return JSON.parse(a)}catch(r){throw new Error("Could not JSON parse reponse: ".concat(a,". Error: ").concat(r))}})})},l=function(){return i(s("http://api.pathofexile.com/leagues?type=main&compact=1")).then(function(e){return function(e){var a=e.filter(function(e){var a=e.id;return!(["ssf","standard"].some(function(e){return a.toLowerCase().includes(e)})||"hardcore"===a.toLowerCase())}),r=a.filter(function(e){return!e.id.toLowerCase().includes("hardcore")}),n=a.filter(function(e){return e.id.toLowerCase().includes("hardcore")});return 1!==r.length||1!==n.length?{Standard:"Standard",Hardcore:"Hardcore"}:{"Temp SC":r[0].id,"Temp HC":n[0].id,Standard:"Standard",Hardcore:"Hardcore"}}(e)}).catch(function(e){console.error("Couldn't fetch leagues: ".concat(e))})},u=r(4),h=function(){for(var e={},a=0,r=Object.entries({currency:{currencies:{type:"Currency",name_key:"currencyTypeName",compare_key:"chaosEquivalent"},fragments:{type:"Fragment",name_key:"currencyTypeName",compare_key:"chaosEquivalent"}},item:{prophecies:{type:"Prophecy",name_key:"name",compare_key:"chaosValue"},accessories:{type:"UniqueAccessory",name_key:"name",compare_key:"chaosValue"},weapons:{type:"UniqueWeapon",name_key:"name",compare_key:"chaosValue"},armours:{type:"UniqueArmour",name_key:"name",compare_key:"chaosValue"},divination_cards:{type:"DivinationCard",name_key:"name",compare_key:"chaosValue"},base_types:{type:"BaseType",name_key:"detailsId",compare_key:"chaosValue"},maps:{type:"Map",name_key:"name",compare_key:"chaosValue"},scarabs:{type:"Scarab",name_key:"name",compare_key:"chaosValue"},jewels:{type:"UniqueJewel",name_key:"name",compare_key:"chaosValue"},flasks:{type:"UniqueFlask",name_key:"name",compare_key:"chaosValue"}}});a<r.length;a++){var n=r[a],t=Object(m.a)(n,2)[1];e=Object.assign(e,t)}return e},p=function(e){var a=t.a.useContext(e);if(!a)throw new Error("".concat(e.displayName," cannot be used outside the provider."));return a},d=t.a.createContext(),b=function(e){var a=t.a.useRef({});return t.a.createElement(d.Provider,Object.assign({value:a},e))},y=function(e){return"undefined"!==typeof e&&null!==e},f=t.a.createContext(),T=function(e){var a=t.a.useState({}),r=Object(m.a)(a,2),n=r[0],o=r[1],c=t.a.useMemo(function(){return[n,o]},[n]);return t.a.createElement(f.Provider,Object.assign({value:c},e))},g=function(e){var a={},r=Object.entries({currency:{currencies:{type:"Currency",name_key:"currencyTypeName",compare_key:"chaosEquivalent"},fragments:{type:"Fragment",name_key:"currencyTypeName",compare_key:"chaosEquivalent"}},item:{prophecies:{type:"Prophecy",name_key:"name",compare_key:"chaosValue"},accessories:{type:"UniqueAccessory",name_key:"name",compare_key:"chaosValue"},weapons:{type:"UniqueWeapon",name_key:"name",compare_key:"chaosValue"},armours:{type:"UniqueArmour",name_key:"name",compare_key:"chaosValue"},divination_cards:{type:"DivinationCard",name_key:"name",compare_key:"chaosValue"},base_types:{type:"BaseType",name_key:"detailsId",compare_key:"chaosValue"},maps:{type:"Map",name_key:"name",compare_key:"chaosValue"},scarabs:{type:"Scarab",name_key:"name",compare_key:"chaosValue"},jewels:{type:"UniqueJewel",name_key:"name",compare_key:"chaosValue"},flasks:{type:"UniqueFlask",name_key:"name",compare_key:"chaosValue"}}}).map(function(r){var n=Object(m.a)(r,2),t=n[0],o=n[1];return Object.entries(o).map(function(r){var n=Object(m.a)(r,2),o=n[0],c=n[1],l=function(e,a,r){return s("https://poe.ninja/api/data/".concat(e,"overview?league=").concat(r,"&type=").concat(a))}(t,c.type,e);return console.log("Fetching ".concat(o," items for ").concat(e," league from ").concat(l)),i(l).then(function(e){console.log("Fetched: ".concat(e.lines.length," ").concat(o," items")),a[o]=e.lines}).catch(function(e){console.error("Couldn't fetch items: ".concat(e))})})}).flat();return Promise.all(r).then(function(){return a})},k=function(e){var a=p(f),r=Object(m.a)(a,2),n=r[0],o=r[1],c=function(e){var a=p(d),r=!1;return a.current[e]||(a.current[e]=!0,r=!0),r}(e);return t.a.useEffect(function(){e&&!n[e]&&c&&(console.log("".concat(e," league selected, fetching items...")),g(e).then(function(a){var r=Object.assign(function(e){try{return JSON.parse(JSON.stringify(e))}catch(a){return console.error("Object deep clone error: ".concat(a)),{}}}(n),Object(u.a)({},e,a));o(r)}))},[c,n,e,o]),n[e]},v=function(e,a){var r=k(e);return a.map(function(e){return function(e,a){if(!e)return null;for(var r,n=0,t=Object.entries(h());n<t.length;n++){var o=t[n],c=Object(m.a)(o,2),s=c[0],i=c[1],l=!0,u=!1,p=void 0;try{for(var d,b=e[s][Symbol.iterator]();!(l=(d=b.next()).done);l=!0){var y=d.value;if(y[i.name_key]===a){(r=y).type=s;break}}}catch(f){u=!0,p=f}finally{try{l||null==b.return||b.return()}finally{if(u)throw p}}if(void 0!==r)break}return r}(r,e)})},S=function(e){var a=e.selectedLeague,r=e.comparison,n=function(e,r){var n=v(a,e),t=v(a,r);return n.concat(t).some(function(e){return!y(e)})?"N/A":function(e,a){var r=0,n=!0,t=!1,o=void 0;try{for(var c,m=e[Symbol.iterator]();!(n=(c=m.next()).done);n=!0){var s=c.value;r+=s[h()[s.type].compare_key]}}catch(y){t=!0,o=y}finally{try{n||null==m.return||m.return()}finally{if(t)throw o}}var i=!0,l=!1,u=void 0;try{for(var p,d=a[Symbol.iterator]();!(i=(p=d.next()).done);i=!0){var b=p.value;r-=b[h()[b.type].compare_key]}}catch(y){l=!0,u=y}finally{try{i||null==d.return||d.return()}finally{if(l)throw u}}return Math.round(r)}(n,t)},o=function(e){var r=e.length,n=v(a,e);return 0===r?"":n.some(function(e){return!y(e)})?"N/A":", cost: ".concat(function(e){var a=0,r=!0,n=!1,t=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var m=o.value;a+=m[h()[m.type].compare_key]}}catch(s){n=!0,t=s}finally{try{r||null==c.return||c.return()}finally{if(n)throw t}}return Math.round(a)}(n)," chaos, pieces: ").concat(r)},c={order:n(r.base,r.compare)};return t.a.createElement("li",{key:r.key,style:c},function(){var e="".concat(r.name,": ");return e+="".concat(n(r.base,r.compare)," chaos profit"),e+=o(r.compare),r.comment&&(e+=" (".concat(r.comment,")")),e}())},w=function(e){var a=e.selectedLeague,r={"Pure vs. normal Breachstones":[{name:"Chayula",base:["Chayula's Pure Breachstone"],compare:["Chayula's Breachstone"]},{name:"Uul-Netol",base:["Uul-Netol's Pure Breachstone"],compare:["Uul-Netol's Breachstone"]},{name:"Tul",base:["Tul's Pure Breachstone"],compare:["Tul's Breachstone"]},{name:"Xoph",base:["Xoph's Pure Breachstone"],compare:["Xoph's Breachstone"]},{name:"Esh",base:["Esh's Pure Breachstone"],compare:["Esh's Breachstone"]}],"Divination cards vs. outcome":[{name:"The Hoarder (Exalted Orb)",base:["Exalted Orb"],compare:["The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder","The Hoarder"]},{name:"Abandoned Wealth (3x Exalted Orb)",base:["Exalted Orb","Exalted Orb","Exalted Orb"],compare:["Abandoned Wealth","Abandoned Wealth","Abandoned Wealth","Abandoned Wealth","Abandoned Wealth"]},{name:"Nook's Crown (Elder Bone Helmet ilvl100)",base:["bone-helmet-86-elder"],compare:["Nook's Crown","Nook's Crown","Nook's Crown","Nook's Crown"]}],"Fated uniques vs. their base + prophecy":[{name:"Amplification Rod",base:["Amplification Rod"],compare:["Reverberation Rod","Power Magnified"],comment:"The Lunaris Temple Level 2 (Act 3 or Act 8)"},{name:"Atziri's Reflection",base:["Atziri's Reflection"],compare:["Atziri's Mirror","The Queen's Sacrifice"],comment:"The Alluring Abyss"},{name:"Asenath's Chant",base:["Asenath's Chant"],compare:["Asenath's Mark","Song of the Sekhema"],comment:"The Quarry(Act 9)"},{name:"Cameria's Avarice",base:["Cameria's Avarice"],compare:["Cameria's Maul","Cold Greed"],comment:"Waterways Map"},{name:"Chaber Cairn",base:["Chaber Cairn"],compare:["Chober Chaber","Faith Exhumed"],comment:"Mausoleum Map"},{name:"Corona Solaris",base:["Corona Solaris"],compare:["Eclipse Solaris","Blinding Light"],comment:"Temple Map"},{name:"Cragfall",base:["Cragfall"],compare:["Craghead","Heavy Blows"],comment:"The Old Fields(Act 2)"},{name:"Crystal Vault",base:["Crystal Vault"],compare:["Icetomb","End of the Light"],comment:"The Brine King's Reef(Act 6)"},{name:"Death's Opus",base:["Death's Opus"],compare:["Death's Harp","The Bowstring's Music"],comment:"The Dried Lake(Act 4)"},{name:"Deidbellow",base:["Deidbellow"],compare:["Deidbell","Dying Cry"],comment:"The Ebony Barracks(Act 3)"},{name:"Doedre's Malevolence",base:["Doedre's Malevolence"],compare:["Doedre's Tenure","The Malevolent Witch"],comment:"Phantasmagoria Map"},{name:"Doomfletch's Prism",base:["Doomfletch's Prism"],compare:["Doomfletch","Ancient Doom"],comment:"The Ancient Pyramid(Act 2)"},{name:"Dreadbeak",base:["Dreadbeak"],compare:["Redbeak","The Dreaded Rhoa"],comment:"Bog Map"},{name:"Dreadsurge",base:["Dreadsurge"],compare:["Dreadarc","Burning Dread"],comment:"Shrine Map"},{name:"Duskblight",base:["Duskblight"],compare:["Dusktoe","Agony at Dusk"],comment:"The Harvest(Act 4)"},{name:"Ezomyte Hold",base:["Ezomyte Hold"],compare:["Ezomyte Peak","The Bloody Flowers Redux"],comment:"The Grain Gate(Act 8)"},{name:"Fox's Fortune",base:["Fox's Fortune"],compare:["Foxshade","Dark Instincts"],comment:"The Temple of Decay Level 2 (Act 7)"},{name:"Frostferno",base:["Frostferno"],compare:["Heatshiver","A Vision of Ice and Fire"],comment:"Estuary Map"},{name:"Geofri's Devotion",base:["Geofri's Devotion"],compare:["Geofri's Baptism","Black Devotion"],comment:"Relic Chambers Map "},{name:"Geofri's Legacy",base:["Geofri's Legacy"],compare:["Geofri's Crest","The Bishop's Legacy"],comment:"Cursed Crypt Map"},{name:"Hrimburn",base:["Hrimburn"],compare:["Hrimsorrow","Fire and Ice"],comment:"The Tidal Island (Act 1 or Act 6)"},{name:"Hrimnor's Dirge",base:["Hrimnor's Dirge"],compare:["Hrimnor's Hymn","Winter's Mournful Melodies"],comment:"The Fellshrine Ruins (Act 2)"},{name:"Hyrri's Demise",base:["Hyrri's Demise"],compare:["Hyrri's Bite","A Dishonourable Death"],comment:"The Mud Flats (Act 6)"},{name:"Kaltensoul",base:["Kaltensoul"],compare:["Kaltenhalt","The Snuffed Flame"],comment:"The Lower Prison(Act 1 or Act 6)"},{name:"Kaom's Way",base:["Kaom's Way"],compare:["Kaom's Sign","The King's Path"],comment:"Kaom's Stronghold(Act 4)"},{name:"Karui Charge",base:["Karui Charge"],compare:["Karui Ward","The Karui Rebellion"],comment:"The Grain Gate(Act 8)"},{name:"Malachai's Awakening",base:["Malachai's Awakening"],compare:["Malachai's Simula","The Nightmare Awakens"],comment:"Core Map"},{name:"Martyr's Crown",base:["Martyr's Crown"],compare:["Crown of Thorns","Pleasure and Pain"],comment:"The Harvest(Act 4) or Core Map"},{name:"Mirebough",base:["Mirebough"],compare:["Fencoil","Trapped in the Tower"],comment:"The Sceptre of God(Act 3)"},{name:"Ngamahu Tiki",base:["Ngamahu Tiki"],compare:["Araku Tiki","A Forest of False Idols"],comment:"Kaom's Dream(Act 4)"},{name:"Panquetzaliztli",base:["Panquetzaliztli"],compare:["Quecholli","The Fall of an Empire"],comment:"Maze Map"},{name:"Queen's Escape",base:["Queen's Escape"],compare:["Queen's Decree","The Misunderstood Queen"],comment:"The Belly of the Beast Level 1(Act 4)"},{name:"Realm Ender",base:["Realm Ender"],compare:["Realmshaper","The Beginning and the End"],comment:"The Crypt Level 2(Act 2)"},{name:"Sanguine Gambol",base:["Sanguine Gambol"],compare:["Goredrill","Crimson Hues"],comment:"Overgrown Ruin Map"},{name:"Shavronne's Gambit",base:["Shavronne's Gambit"],compare:["Shavronne's Pace","The Flow of Energy"],comment:"The Harvest(Act 4)"},{name:"Silverbough",base:["Silverbough"],compare:["Silverbranch","The Silverwood"],comment:"The Riverways (Act 2)"},{name:"Sunspite",base:["Sunspite"],compare:["Sundance","Sun's Punishment"],comment:"The Solaris Temple Level 2 (Act 8)"},{name:"The Cauteriser",base:["The Cauteriser"],compare:["Limbsplit","Severed Limbs"],comment:"The Mines Level 2(Act 4)"},{name:"The Dancing Duo",base:["The Dancing Duo"],compare:["The Dancing Dervish","Dance of Steel"],comment:"Arsenal Map"},{name:"The Effigon",base:["The Effigon"],compare:["The Ignomon","Blind Faith"],comment:"Haunted Mansion Map"},{name:"The Gryphon",base:["The Gryphon"],compare:["The Screaming Eagle","The Apex Predator"],comment:"The Aqueduct(Act 4)"},{name:"The Nomad",base:["The Nomad"],compare:["The Magnate","The Great Leader of the North"],comment:"The Foothills(Act 9)"},{name:"The Oak",base:["The Oak"],compare:["Springleaf","Nature's Resilience"],comment:"The Southern Forest (Act 2)"},{name:"The Signal Fire",base:["The Signal Fire"],compare:["Blackgleam","Fire and Brimstone"],comment:"The Crematorium(Act 3)"},{name:"The Stormwall",base:["The Stormwall"],compare:["The Stormheart","The Storm Spire"],comment:"Plateau Map"},{name:"The Tempest",base:["The Tempest"],compare:["Storm Cloud","The Servant's Heart"],comment:"The Chamber of Sins Level 2 (Act 2)"},{name:"Thirst for Horrors",base:["Thirst for Horrors"],compare:["Chalice of Horrors","Mouth of Horrors"],comment:"The Harvest (Act 4) or The Toxic Conduits (Act 8) "},{name:"Timetwist",base:["Timetwist"],compare:["Timeclasp","A Rift in Time"],comment:"Laboratory Map "},{name:"Voidheart",base:["Voidheart"],compare:["Blackheart","From The Void"],comment:""},{name:"Wall of Brambles",base:["Wall of Brambles"],compare:["Bramblejack","The King and the Brambles"],comment:"The Grand Arena(Act 4)"},{name:"Whakatutuki o Matua",base:["Whakatutuki o Matua"],compare:["Matua Tupuna","The Mentor"],comment:"Basilica Map"},{name:"Wildwrap",base:["Wildwrap"],compare:["Briskwrap","Last of the Wildmen"],comment:"Strand Map"},{name:"Windshriek",base:["Windshriek"],compare:["Windscream","Darktongue's Shriek"],comment:"Sepulchre Map"},{name:"Winterweave",base:["Winterweave"],compare:["Bloodboil","Cold Blooded Fury"],comment:"Beach Map"}],"Prophecy rewards":[{name:"Volkuur's Key",base:["Volkuur's Key"],compare:["The Unbreathing Queen V","Cemetery Map"],comment:"Cemetery Map"}],"Gilded Scarabs":[{name:"Sulphite",base:["Gilded Sulphite Scarab"],compare:[],comment:"Cameria"},{name:"Legion",base:["Gilded Legion Scarab"],compare:[],comment:"Vagan"},{name:"Harbinger",base:["Gilded Harbinger Scarab"],compare:[],comment:"Tora"},{name:"Bestiary",base:["Gilded Bestiary Scarab"],compare:[],comment:"Jorgin"},{name:"Divination",base:["Gilded Divination Scarab"],compare:[],comment:"Gravicius"},{name:"Cartography",base:["Gilded Cartography Scarab"],compare:[],comment:"Rin"},{name:"Torment",base:["Gilded Torment Scarab"],compare:[],comment:"Leo"},{name:"Shaper",base:["Gilded Shaper Scarab"],compare:[],comment:"Vorici"},{name:"Elder",base:["Gilded Elder Scarab"],compare:[],comment:"Korell"},{name:"Reliquary",base:["Gilded Reliquary Scarab"],compare:[],comment:"Elreon"},{name:"Breach",base:["Gilded Breach Scarab"],compare:[],comment:"It That Fled"},{name:"Ambush",base:["Gilded Ambush Scarab"],compare:[],comment:"Haku"},{name:"Perandus",base:["Gilded Perandus Scarab"],compare:[],comment:"Janus"}],"Item prices":[{name:"Exalted Orb",base:["Exalted Orb"],compare:[]}],"Incursion uniques (vials excluded)":[{name:"Apep's Supremacy",base:["Apep's Supremacy"],compare:["Apep's Slumber"],comment:"Vial of Awakening: https://www.pathofexile.com/trade/search/Metamorph/KYVR6Ri5"},{name:"Slavedriver's Hand",base:["Slavedriver's Hand"],compare:["Architect's Hand"],comment:"Vial of Dominance: https://www.pathofexile.com/trade/search/Metamorph/q2Ew93Cg"},{name:"Mask of the Stitched Demon",base:["Mask of the Stitched Demon"],compare:["Mask of the Spirit Drinker"],comment:"Vial of Summoning: https://www.pathofexile.com/trade/search/Metamorph/mZprJJH6"},{name:"Coward's Legacy",base:["Coward's Legacy"],compare:["Coward's Chains"],comment:"Vial of Consequence: https://www.pathofexile.com/trade/search/Metamorph/REManrf7"},{name:"Fate of the Vaal",base:["Fate of the Vaal"],compare:["Story of the Vaal"],comment:"Vial of Fate: https://www.pathofexile.com/trade/search/Metamorph/ak4Q2pte"},{name:"Omeyocan",base:["Omeyocan"],compare:["Dance of the Offered"],comment:"Vial of the Ritual: https://www.pathofexile.com/trade/search/Metamorph/9d9Wk4uK"},{name:"Zerphi's Heart",base:["Zerphi's Heart"],compare:["Sacrificial Heart"],comment:"Vial of Sacrifice: https://www.pathofexile.com/trade/search/Metamorph/pY25JWi0"},{name:"Soul Ripper",base:["Soul Ripper"],compare:["Soul Catcher"],comment:"Vial of the Ghost: https://www.pathofexile.com/trade/search/Metamorph/rGdy0gHQ"},{name:"Transcendent Flesh",base:["Transcendent Flesh"],compare:["Tempered Flesh"],comment:"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw"},{name:"Transcendent Mind",base:["Transcendent Mind"],compare:["Tempered Mind"],comment:"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw"},{name:"Transcendent Spirit",base:["Transcendent Spirit"],compare:["Tempered Spirit"],comment:"Vial of Transcendence: https://www.pathofexile.com/trade/search/Metamorph/Q34bbRuw"}]};return t.a.createElement("div",null,Object.keys(r).map(function(e){return t.a.createElement("div",{key:e},t.a.createElement("h2",null,e),t.a.createElement("ul",null,r[e].map(function(e,r){return t.a.createElement(S,{selectedLeague:a,comparison:e,key:r})})))}))},A=function(){var e=function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),r=a[0],t=a[1];Object(n.useEffect)(function(){l().then(function(e){console.log("Leagues: ".concat(JSON.stringify(e))),t(e)})},[]);var o=Object(n.useState)("Temp SC"),c=Object(m.a)(o,2),s=c[0],i=c[1],u=Object(n.useState)(),h=Object(m.a)(u,2),p=h[0],d=h[1];return Object(n.useEffect)(function(){d(r[s])},[r,s]),{metaLeagues:["Temp SC","Temp HC","Standard","Hardcore"],selectedMetaLeague:s,selectedLeague:p,setSelectedMetaLeague:i}}(),a=e.metaLeagues,r=e.selectedMetaLeague,o=e.selectedLeague,c=e.setSelectedMetaLeague;return t.a.createElement("div",null,t.a.createElement("h1",null,"PoE - What to flip?"),t.a.createElement("select",{name:"league",value:r,onChange:function(e){return c(e.target.value)}},a.map(function(e){return t.a.createElement("option",{key:e,value:e},e)})),t.a.createElement(b,null,t.a.createElement(T,null,t.a.createElement(w,{selectedLeague:o}))))},C=(r(11),document.getElementById("root"));c.a.render(t.a.createElement(A,null),C)},5:function(e,a,r){e.exports=r(12)}},[[5,1,2]]]);
//# sourceMappingURL=main.f991131a.chunk.js.map